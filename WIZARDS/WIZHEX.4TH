DECIMAL

: WIZ ( FORGET WIZ TO EMPTY MEMORY ) ;

CREATE GBUF 266 ALLOT

VARIABLE _GX              VARIABLE _GY

CREATE GROUND
    0 W, 0 W, 0 W, 6 W, 11 W,
    BINARY
    0000000000000000 W, 0000011111100000 W,
    0000111111110000 W, 0001000000001000 W,
    0001111111111000 W, 0010000000000100 W,
    0011111111111100 W, 0100000000000010 W,
    0111111111111110 W, 1000000000000001 W,
    1111111111111111 W, 0000000000000000 W,
    0111111111111110 W, 1000000000000001 W,
    0011111111111100 W, 0100000000000010 W,
    0001111111111000 W, 0010000000000100 W,
    0000111111110000 W, 0001000000001000 W,
    0000000000000000 W, 0000011111100000 W,
    0000000000000000 W, 0000000000000000 W,
    0000000000000000 W, 0000000000000000 W,
    0000000000000000 W, 0000000000000000 W,
    0000000000000000 W, 0000000000000000 W,
    0000000000000000 W, 0000000000000000 W,
    DECIMAL

CREATE BLACK
    0 W, 0 W, 0 W, 0 W, 0 W,
    BINARY
    0000000000000000 W, 0000000000000000 W,
    0000111111110000 W, 0000000000000000 W,
    0001111111111000 W, 0000000000000000 W,
    0011111111111100 W, 0000000000000000 W,
    0111111111111110 W, 0000000000000000 W,
    1111111111111111 W, 0000000000000000 W,
    0111111111111110 W, 0000000000000000 W,
    0011111111111100 W, 0000000000000000 W,
    0001111111111000 W, 0000000000000000 W,
    0000111111110000 W, 0000000000000000 W,
    0000000000000000 W, 0000000000000000 W,
    0000000000000000 W, 0000000000000000 W,
    0000000000000000 W, 0000000000000000 W,
    0000000000000000 W, 0000000000000000 W,
    0000000000000000 W, 0000000000000000 W,
    0000000000000000 W, 0000000000000000 W,
    DECIMAL

    CREATE HCOLORS HEX
    000 W, 700 W, 730 W, 750 W, 770 W, 470 W, 452 W, 075 W,
    077 W, 057 W, 037 W, 007 W, 432 W, 707 W, 704 W, 666 W,
    DECIMAL

: DOCOLORS HCOLORS SETCOLORS ;

: ROW1
    13 0 DO I 24 * _GY @ GROUND GBUF SPRITE LOOP ;

: ROW2
    13 0 DO I 24 * 12 + _GY @ 5 + GROUND GBUF SPRITE LOOP ;

: SCREEN
    18 0 DO I 10 * _GY ! ROW1 ROW2 LOOP 18 10 * _GY ! ROW1 ;

: SCORE
    3 TEXTCOLOR C-OFF ."    " R-ON ."  WIZARD 1 " R-OFF
    ."   MAGIC= 9  DOLMENS= 3" ;

: FINDXY ( HX HY --- )
    2DUP
    SWAP - 12 * _GX !
    + 5 * _GY ! ;

: HEXPLOT ( SPRITENAME --- )
    >R _GX @ _GY @ R> GBUF SPRITE ;

: TPLOT ( X Y --- )
    FINDXY BLACK HEXPLOT KEY DROP ;

: PLOTS
    0 1 TPLOT
    1 1 TPLOT
    1 2 TPLOT
    0 2 TPLOT ;

: TEST LOWRES 0 24 GOTOXY DOCOLORS SCREEN SCORE KEY DROP PLOTS ;

QUIT

